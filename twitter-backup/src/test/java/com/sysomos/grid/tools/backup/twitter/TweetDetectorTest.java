package com.sysomos.grid.tools.backup.twitter;

import com.google.gson.Gson;
import org.junit.Test;

import java.util.Map;

import static org.junit.Assert.*;

/**
 * Created by kkim on 9/8/15.
 */
public class TweetDetectorTest {


    @Test
    public void TestTweetDetector() {
        final String testData="{\"created_at\":\"Tue Sep 08 20:22:50 +0000 2015\",\"id\":641345973902401536,\"id_str\":\"641345973902401536\",\"text\":\"RT @Weddingmagazine: Entered our #FreebieFriday comp yet? For your chance to #WIN this http:\\/\\/t.co\\/17U2c5OjGm from @stampinupuk, RT and fol\\u2026\",\"source\":\"\\u003ca href=\\\"http:\\/\\/twitter.com\\\" rel=\\\"nofollow\\\"\\u003eTwitter Web Client\\u003c\\/a\\u003e\",\"truncated\":false,\"in_reply_to_status_id\":null,\"in_reply_to_status_id_str\":null,\"in_reply_to_user_id\":null,\"in_reply_to_user_id_str\":null,\"in_reply_to_screen_name\":null,\"user\":{\"id\":823999602,\"id_str\":\"823999602\",\"name\":\"claire woods\",\"screen_name\":\"clairewoods32\",\"location\":\"\",\"url\":null,\"description\":null,\"protected\":false,\"verified\":false,\"followers_count\":1508,\"friends_count\":1999,\"listed_count\":139,\"favourites_count\":96,\"statuses_count\":80364,\"created_at\":\"Fri Sep 14 21:11:12 +0000 2012\",\"utc_offset\":null,\"time_zone\":null,\"geo_enabled\":false,\"lang\":\"en\",\"contributors_enabled\":false,\"is_translator\":false,\"profile_background_color\":\"C0DEED\",\"profile_background_image_url\":\"http:\\/\\/abs.twimg.com\\/images\\/themes\\/theme1\\/bg.png\",\"profile_background_image_url_https\":\"https:\\/\\/abs.twimg.com\\/images\\/themes\\/theme1\\/bg.png\",\"profile_background_tile\":false,\"profile_link_color\":\"0084B4\",\"profile_sidebar_border_color\":\"C0DEED\",\"profile_sidebar_fill_color\":\"DDEEF6\",\"profile_text_color\":\"333333\",\"profile_use_background_image\":true,\"profile_image_url\":\"http:\\/\\/pbs.twimg.com\\/profile_images\\/571960774470270976\\/Ivwm9C1R_normal.jpeg\",\"profile_image_url_https\":\"https:\\/\\/pbs.twimg.com\\/profile_images\\/571960774470270976\\/Ivwm9C1R_normal.jpeg\",\"default_profile\":true,\"default_profile_image\":false,\"following\":null,\"follow_request_sent\":null,\"notifications\":null},\"geo\":null,\"coordinates\":null,\"place\":null,\"contributors\":null,\"retweeted_status\":{\"created_at\":\"Mon Sep 07 08:31:16 +0000 2015\",\"id\":640804515088891904,\"id_str\":\"640804515088891904\",\"text\":\"Entered our #FreebieFriday comp yet? For your chance to #WIN this http:\\/\\/t.co\\/17U2c5OjGm from @stampinupuk, RT and follow us. Good luck!\",\"source\":\"\\u003ca href=\\\"http:\\/\\/www.hootsuite.com\\\" rel=\\\"nofollow\\\"\\u003eHootsuite\\u003c\\/a\\u003e\",\"truncated\":false,\"in_reply_to_status_id\":null,\"in_reply_to_status_id_str\":null,\"in_reply_to_user_id\":null,\"in_reply_to_user_id_str\":null,\"in_reply_to_screen_name\":null,\"user\":{\"id\":47612430,\"id_str\":\"47612430\",\"name\":\"Wedding magazine\",\"screen_name\":\"Weddingmagazine\",\"location\":\"London, United Kingdom\",\"url\":\"http:\\/\\/www.weddingandweddingflowers.co.uk\\/\",\"description\":\"We're every bride-to-be's BFF. We've got all you need to make your big day perfect - and more! Download us here: http:\\/\\/bit.ly\\/TQmFdN #WeddingBlogAwards\",\"protected\":false,\"verified\":false,\"followers_count\":127139,\"friends_count\":1778,\"listed_count\":1243,\"favourites_count\":13,\"statuses_count\":61562,\"created_at\":\"Tue Jun 16 12:34:27 +0000 2009\",\"utc_offset\":3600,\"time_zone\":\"London\",\"geo_enabled\":false,\"lang\":\"en\",\"contributors_enabled\":false,\"is_translator\":false,\"profile_background_color\":\"FFBAD1\",\"profile_background_image_url\":\"http:\\/\\/pbs.twimg.com\\/profile_background_images\\/510033412082507777\\/d6WpZYvE.jpeg\",\"profile_background_image_url_https\":\"https:\\/\\/pbs.twimg.com\\/profile_background_images\\/510033412082507777\\/d6WpZYvE.jpeg\",\"profile_background_tile\":false,\"profile_link_color\":\"FF0055\",\"profile_sidebar_border_color\":\"000000\",\"profile_sidebar_fill_color\":\"FFBAD1\",\"profile_text_color\":\"000000\",\"profile_use_background_image\":true,\"profile_image_url\":\"http:\\/\\/pbs.twimg.com\\/profile_images\\/641176879152500736\\/vVOR3Ut6_normal.jpg\",\"profile_image_url_https\":\"https:\\/\\/pbs.twimg.com\\/profile_images\\/641176879152500736\\/vVOR3Ut6_normal.jpg\",\"profile_banner_url\":\"https:\\/\\/pbs.twimg.com\\/profile_banners\\/47612430\\/1441707539\",\"default_profile\":false,\"default_profile_image\":false,\"following\":null,\"follow_request_sent\":null,\"notifications\":null},\"geo\":null,\"coordinates\":null,\"place\":null,\"contributors\":null,\"retweet_count\":266,\"favorite_count\":47,\"entities\":{\"hashtags\":[{\"text\":\"FreebieFriday\",\"indices\":[12,26]},{\"text\":\"WIN\",\"indices\":[56,60]}],\"trends\":[],\"urls\":[{\"url\":\"http:\\/\\/t.co\\/17U2c5OjGm\",\"expanded_url\":\"http:\\/\\/ow.ly\\/RNGXY\",\"display_url\":\"ow.ly\\/RNGXY\",\"indices\":[66,88]}],\"user_mentions\":[{\"screen_name\":\"stampinupUK\",\"name\":\"Stampin' Up! UK\",\"id\":2304752773,\"id_str\":\"2304752773\",\"indices\":[94,106]}],\"symbols\":[]},\"favorited\":false,\"retweeted\":false,\"possibly_sensitive\":false,\"filter_level\":\"low\",\"lang\":\"en\"},\"retweet_count\":0,\"favorite_count\":0,\"entities\":{\"hashtags\":[{\"text\":\"FreebieFriday\",\"indices\":[33,47]},{\"text\":\"WIN\",\"indices\":[77,81]}],\"trends\":[],\"urls\":[{\"url\":\"http:\\/\\/t.co\\/17U2c5OjGm\",\"expanded_url\":\"http:\\/\\/ow.ly\\/RNGXY\",\"display_url\":\"ow.ly\\/RNGXY\",\"indices\":[87,109]}],\"user_mentions\":[{\"screen_name\":\"Weddingmagazine\",\"name\":\"Wedding magazine\",\"id\":47612430,\"id_str\":\"47612430\",\"indices\":[3,19]},{\"screen_name\":\"stampinupUK\",\"name\":\"Stampin' Up! UK\",\"id\":2304752773,\"id_str\":\"2304752773\",\"indices\":[115,127]}],\"symbols\":[]},\"favorited\":false,\"retweeted\":false,\"possibly_sensitive\":false,\"filter_level\":\"low\",\"lang\":\"en\",\"timestamp_ms\":\"1441743770467\"}";

        Gson gson = new Gson();

        Map<String,Object> map=gson.fromJson(testData, TweetDetector.string2ObjectMap);

        System.out.println(map.get("id_str"));
        assertEquals("641345973902401536",map.get("id_str"));

    }

}